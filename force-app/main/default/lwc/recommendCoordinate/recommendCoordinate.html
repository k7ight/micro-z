<template>
    <lightning-layout multiple-rows="true">
        <lightning-layout-item padding="around-small" size="12" medium-device-size="5" large-device-size="3">
            <template lwc:if={item.data}>
                <c-view-item item={item.data.fields} ongenerate={handleGenerate}></c-view-item>
            </template>
        </lightning-layout-item>
        <lightning-layout-item padding="around-small" size="12" medium-device-size="7" large-device-size="9">
            <lightning-card title="レコメンドコーデ" icon-name="utility:data_graph">
                <div style="text-align: right;" class="slds-m-around_small">
                    <lightning-button variant="brand" label="マイコーデ登録" icon-name="utility:sparkles" 
                        onclick={handleCreateMyCoordinate}>
                    </lightning-button>
                </div>
                <lightning-layout multiple-rows="true">
                    <template lwc:if={isLoading}>
                        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
                    </template>
                    <template lwc:else>
                        <template lwc:if={recommendCoordinates}>
                            <template for:each={recommendCoordinates} for:item="coordinate">
                                <lightning-layout-item key={coordinate.Id} padding="around-small" size="12">
                                    <c-coordinate coordinate={coordinate} oncheck={handleCheck} onuncheck={handleUncheck}></c-coordinate>
                                </lightning-layout-item>
                            </template>
                        </template>
                    </template>
                </lightning-layout>
            </lightning-card>
        </lightning-layout-item>
    </lightning-layout>
</template>